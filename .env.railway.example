# ========================================
# CleanInbox API - Railway Environment Variables
# ========================================
# Copy these variables to your Railway project settings
# Railway Dashboard > Your Project > Variables

# ========================================
# Server Configuration
# ========================================
# Port (Railway automatically sets this, but you can override)
PORT=3001

# Node environment
NODE_ENV=production

# ========================================
# Supabase Configuration
# ========================================
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here

# Service role key (server-side only, DO NOT expose to client)
# Get this from: Supabase Dashboard > Settings > API > service_role key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ========================================
# JWT Secrets (CRITICAL - Keep these secret!)
# ========================================
# Generate using: openssl rand -base64 64
# IMPORTANT: Use the SAME secrets as your production environment
JWT_SECRET=fx3IssQ/owhGh0EkkpdeDI8jVliQ28MQeUD5nNQhmq+GwwJRe3x4TGCr1R16YJXLBqyBURh7x1hpKwijvcRLSA==
JWT_REFRESH_SECRET=IvmZoeMeixHgx+SKD+2k+WO1XVA9t9/zkOP76W5548+BYPTY77Gb0qR0Iry1WwzPwn9SjKJtaf1ix8ZspFJDNw==

# ========================================
# Email Service (Resend)
# ========================================
# Sign up at: https://resend.com
# Get your API key from the dashboard
RESEND_API_KEY=re_your-api-key-here

# From email address (must be verified domain)
FROM_EMAIL=CleanInbox <noreply@your-domain.com>

# ========================================
# Application URLs
# ========================================
# Frontend URL (where your Vercel app is hosted)
VITE_APP_URL=https://cleaninbox.vercel.app
# Or your custom domain:
# VITE_APP_URL=https://cleaninbox.com

# Frontend URL for CORS (can be comma-separated list)
FRONTEND_URL=https://cleaninbox.vercel.app

# ========================================
# CAPTCHA (Cloudflare Turnstile - Free)
# ========================================
# Sign up at: https://dash.cloudflare.com/sign-up/turnstile
# Get your site key and secret key
VITE_TURNSTILE_SITE_KEY=your-turnstile-site-key
TURNSTILE_SECRET_KEY=your-turnstile-secret-key

# Alternative: hCaptcha
# Sign up at: https://www.hcaptcha.com
# VITE_HCAPTCHA_SITE_KEY=your-hcaptcha-site-key
# HCAPTCHA_SECRET_KEY=your-hcaptcha-secret-key

# ========================================
# Security Settings
# ========================================
# Maximum failed login attempts before account lockout
MAX_LOGIN_ATTEMPTS=5

# Lockout duration in minutes
LOCKOUT_DURATION_MINUTES=30

# Token expiration times
ACCESS_TOKEN_EXPIRY=15m
REFRESH_TOKEN_EXPIRY=7d
EMAIL_VERIFICATION_TOKEN_EXPIRY=24h
PASSWORD_RESET_TOKEN_EXPIRY=1h

# ========================================
# Rate Limiting
# ========================================
# Requests per time window
RATE_LIMIT_LOGIN=5
RATE_LIMIT_SIGNUP=3
RATE_LIMIT_PASSWORD_RESET=3

# Time window in minutes
RATE_LIMIT_WINDOW=15

# ========================================
# Railway-Specific Notes
# ========================================
# 1. Add these variables in Railway Dashboard > Variables
# 2. Railway automatically injects PORT (usually 3000 or dynamic)
# 3. Your API will be available at: https://your-app.railway.app
# 4. Update CORS settings in server.ts to include your Railway URL
# 5. Update frontend VITE_API_URL to point to your Railway API URL
